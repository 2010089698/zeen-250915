# Zeen アプリ開発タスクリスト

## プロジェクト概要
**アプリ名**: Zeen  
**目的**: 25分間の集中セッション管理アプリ（MVP版）  
**対象**: 海外ユーザー（英語）  
**デザイン**: 禅の精神をモチーフにしたミニマルデザイン
**技術スタック**: React Native with Expo  
**開発手法**: TDD（t_wadaメソッド）による品質重視開発

---

## Phase 1: プロジェクトセットアップ

### 1.1 プロジェクト初期化（Expo使用）
- [x] Expo CLI インストール（`npm install -g @expo/cli`）
- [x] Expo プロジェクト作成（`npx create-expo-app --template`）
- [x] TypeScript設定（Expo TypeScript テンプレート使用）
- [x] ESLint/Prettier設定
- [x] フォルダ構成作成（src/, components/, hooks/, context/, models/, types/）
- [x] package.json設定（依存関係追加）
- [x] app.json設定（Expo設定ファイル）
- [x] **Expo Router導入**（ファイルベースルーティング）
- [x] **Expo SDK 53アップグレード**（React 19 + RN 0.79.5対応）

### 1.2 必要ライブラリのインストール（Expo対応）
- [x] Expo SDK 53 インストール
- [x] React Context API（標準）
- [x] React Native Reanimated v3.17.4（Expo対応版）
- [x] Expo Router v5.1.4（ファイルベースルーティング）
- [x] 開発用ツール（Expo Dev Tools、ngrok等）
- [x] テスト環境セットアップ
  - [x] Jest セットアップ（React Native標準）
  - [x] @testing-library/react-native インストール
  - [x] power-assert インストール（t_wadaメソッド）
  - [x] Jest Watch Mode 設定
  - [x] **Jest Expo v53対応**

---

## Phase 2: テスト環境構築（TDD準備）

### 2.1 テストツールセットアップ
- [x] Jest セットアップ確認（React Native標準）
- [x] @testing-library/react-native インストール・設定
- [x] power-assert インストール・設定（t_wadaメソッド）
- [x] Jest Watch Mode 設定
- [x] テストファイル構造作成（__tests__/ ディレクトリ）
- [x] **Babel設定修正**（power-assert統合）
- [x] **テスト環境動作確認**（基本テスト実行）

---

## Phase 3: 基盤実装（TDD実践）

### 3.1 型定義（テストファースト）
- [ ] **Red**: `src/types/index.ts` のテスト作成
  - [ ] FocusState interface テスト
  - [ ] FocusAction type テスト
  - [ ] FocusContextType interface テスト
- [ ] **Green**: 最小限の型定義実装
- [ ] **Refactor**: 型定義の改善

### 3.2 ビジネスロジック（TDD実践）
- [ ] **Red**: `src/models/Timer.ts` のテスト作成
  - [ ] 25分固定タイマー機能のテスト
  - [ ] 時間フォーマット関数のテスト
  - [ ] タイマー状態管理のテスト
- [ ] **Green**: 最小限のタイマーロジック実装
- [ ] **Refactor**: タイマーロジックの改善

### 3.3 カスタムフック（TDD実践）
- [ ] **Red**: `src/hooks/useTimer.ts` のテスト作成
  - [ ] 開始機能のテスト
  - [ ] リセット機能のテスト
  - [ ] カウントダウン機能のテスト
  - [ ] 完了検知機能のテスト
- [ ] **Green**: 最小限のuseTimer実装
- [ ] **Refactor**: useTimerの改善
- [ ] **Red**: `src/hooks/useFocusSession.ts` のテスト作成
  - [ ] セッション開始のテスト
  - [ ] セッション完了のテスト
  - [ ] セッションリセットのテスト
- [ ] **Green**: 最小限のuseFocusSession実装
- [ ] **Refactor**: useFocusSessionの改善

### 3.4 状態管理（TDD実践）
- [ ] **Red**: `src/context/FocusContext.tsx` のテスト作成
  - [ ] FocusProviderのテスト
  - [ ] useReducerロジックのテスト
  - [ ] Context hooksのテスト
- [ ] **Green**: 最小限のContext実装
- [ ] **Refactor**: Contextの改善

---

## Phase 4: UI コンポーネント実装（TDD実践）

### 4.1 メイン画面（MainScreen）- TDD実践
- [ ] **Red**: `src/components/MainScreen.test.tsx` 作成
  - [ ] レンダリングテスト
  - [ ] ボタンクリックテスト
  - [ ] スタイルテスト（スナップショット）
- [ ] **Green**: `src/components/MainScreen.tsx` 基本実装
  - [ ] 基本構造実装
  - [ ] Start Focusボタン機能
- [ ] **Refactor**: MainScreenの改善
  - [ ] 禅デザインに基づくレイアウト実装
  - [ ] アプリタイトル「Zeen」配置
  - [ ] 「Ready to focus」テキスト配置
  - [ ] 十分な余白（間）の設定
  - [ ] 禅カラーパレット適用
  - [ ] タイポグラフィ適用

### 4.2 集中画面（FocusScreen）- TDD実践
- [ ] **Red**: `src/components/FocusScreen.test.tsx` 作成
  - [ ] レンダリングテスト
  - [ ] タイマー表示テスト
  - [ ] 戻るボタンテスト
  - [ ] スタイルテスト（スナップショット）
- [ ] **Green**: `src/components/FocusScreen.tsx` 基本実装
  - [ ] 基本構造実装
  - [ ] タイマー表示機能
  - [ ] 戻るボタン機能
- [ ] **Refactor**: FocusScreenの改善
  - [ ] 瞑想的デザインレイアウト実装
  - [ ] タイマー表示（MM:SS形式）
  - [ ] 最大限の余白による静寂感演出
  - [ ] 52px UltraLight フォント適用

### 4.3 共通コンポーネント（TDD実践）
- [ ] **Red**: 共通コンポーネントのテスト作成
- [ ] **Green**: `src/components/common/` 基本実装
- [ ] **Refactor**: 禅的UI要素スタイル
  - [ ] 角を微妙に丸めたボタン
  - [ ] 極薄ドロップシャドウ
  - [ ] 緩やかなフェードアニメーション

---

## Phase 5: 機能統合（TDD実践）

### 5.1 画面遷移（TDD実践）
- [ ] **Red**: 画面遷移の統合テスト作成
  - [ ] メイン→集中画面遷移テスト
  - [ ] 集中→メイン画面遷移テスト（戻るボタン）
  - [ ] タイマー完了時の自動遷移テスト
- [ ] **Green**: 最小限の画面遷移実装
- [ ] **Refactor**: 画面遷移の改善

### 5.2 アプリ状態管理（TDD実践）
- [ ] **Red**: アプリ状態管理のテスト作成
  - [ ] AppState監視テスト
  - [ ] バックグラウンド移行時のリセットテスト
  - [ ] フォアグラウンド復帰テスト
- [ ] **Green**: 最小限のアプリ状態管理実装
- [ ] **Refactor**: アプリ状態管理の改善

### 5.3 エラーハンドリング（TDD実践）
- [ ] **Red**: エラーハンドリングのテスト作成
  - [ ] タイマー関連エラーテスト
  - [ ] アプリ状態変更エラーテスト
  - [ ] 予期しない状態のリカバリテスト
- [ ] **Green**: 最小限のエラーハンドリング実装
- [ ] **Refactor**: エラーハンドリングの改善

---

## Phase 6: スタイリング・ポリッシュ

### 5.1 禅デザインの最終調整
- [ ] スペーシング調整（黄金比ベース）
  - [ ] XXLarge: 64px（瞑想的な間）
  - [ ] XLarge: 40px（深い呼吸）
  - [ ] Large: 24px（自然な間隔）
- [ ] カラーパレット最終調整
- [ ] タイポグラフィの微調整

### 5.2 アニメーション実装
- [ ] 呼吸のリズムのような緩やかなフェード
- [ ] 画面遷移アニメーション
- [ ] ボタンのホバー/タップエフェクト

### 5.3 アクセシビリティ
- [ ] 基本的なアクセシビリティ対応
- [ ] フォント読みやすさ確認
- [ ] コントラスト確認

---

## Phase 7: 総合テスト・品質保証

### 7.1 E2Eテスト・統合テスト最終確認
- [ ] 全機能フローの統合テスト
- [ ] エッジケーステスト
- [ ] パフォーマンステスト
- [ ] メモリリークテスト

### 7.2 テストカバレッジ・品質指標
- [ ] テストカバレッジ最終確認（目標：90%以上）
- [ ] power-assertによるアサーション品質確認
- [ ] コードレビュー（テスト品質重視）

### 7.3 継続的品質保証
- [ ] CI/CD パイプライン最終調整（Jest CLI連携）
- [ ] 自動テスト実行環境最終確認（GitHub Actions等）
- [ ] 自動品質ゲート最終設定（テスト失敗時のデプロイ防止）
- [ ] カバレッジレポート自動生成最終確認

---

## Phase 8: 最適化・最終調整

### 7.1 パフォーマンス最適化
- [ ] メモリ効率化
  - [ ] useMemo、useCallback の適切な使用
  - [ ] 不要な再レンダリング防止
  - [ ] インターバルの適切なクリーンアップ
- [ ] バッテリー最適化
  - [ ] フォアグラウンドでのみタイマー動作確認
  - [ ] タイマー更新頻度の最適化

### 7.2 デバイス対応
- [ ] iOS実機テスト
- [ ] Android実機テスト
- [ ] 各種画面サイズでの表示確認
- [ ] 大画面デバイス対応確認

### 7.3 最終品質保証
- [ ] 全機能動作確認
- [ ] メモリリーク確認
- [ ] クラッシュテスト
- [ ] エッジケース動作確認

---

## Phase 9: ビルド・デプロイ準備

### 8.1 プロダクションビルド
- [ ] iOS リリースビルド設定
- [ ] Android リリースビルド設定
- [ ] コード署名設定
- [ ] アプリアイコン作成・適用

### 8.2 ストア準備
- [ ] App Store用スクリーンショット作成
- [ ] Google Play用スクリーンショット作成
- [ ] アプリ説明文作成（英語）
- [ ] プライバシーポリシー作成（必要に応じて）

---

## 完了チェック

### 必須機能
- [ ] 25分タイマー起動
- [ ] タイマーのリアルタイム表示
- [ ] 戻るボタンでリセット
- [ ] バックグラウンド移行時の完全リセット
- [ ] 禅デザインの適用

### 品質基準
- [ ] アプリ起動時間: 3秒以内
- [ ] タイマー開始応答時間: 1秒以内
- [ ] メモリ使用量: 100MB以下
- [ ] クラッシュなし
- [ ] UI の意図した表示

### 最終確認
- [ ] 全要件の実装完了
- [ ] 全テスト通過
- [ ] パフォーマンス基準クリア
- [ ] 禅デザインコンセプトの実現

---

**タスクリスト作成日**: 2025年7月28日  
**対応ドキュメント**: requirements.md v2.2, design.md v1.2  
**想定開発期間**: 6週間（1人開発者）